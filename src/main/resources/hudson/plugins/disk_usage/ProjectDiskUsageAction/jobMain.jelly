<?jelly escape-by-default='true'?>
<j:jelly xmlns:j="jelly:core" xmlns:t="/lib/hudson" xmlns:l="/lib/layout">
    <j:if test="${(from.getAllDiskUsageWorkspace() > 0) || (from.getJobRootDirDiskUsage() > 0) || (from.getAllBuildsDiskUsage() > 0)}">
        <table style="margin-left:1em;">
            <t:summary icon="/plugin/disk-usage/icons/disk-usage.svg">
                ${it.displayName}

                <table class="fileList">
                    <tr>
                        <td><l:icon class="icon-folder icon-sm" /></td>
                        <td>${%Job}</td>
                        <td class="fileSize">${from.getSizeInString(from.getJobRootDirDiskUsage())}</td>
                    </tr>
                    <tr>
                        <td><l:icon class="icon-folder icon-sm" /></td>
                        <td>${%All builds}</td>
                        <td class="fileSize">${from.getSizeInString(from.getBuildsDiskUsage().get('all'))}</td>
                    </tr>
                    <tr>
                        <td><l:icon class="icon-folder icon-sm" /></td>
                        <td>${%Locked builds}</td>
                        <td class="fileSize">${from.getSizeInString(from.getBuildsDiskUsage().get('locked'))}</td>
                    </tr>
                    <tr>
                        <td><l:icon class="icon-folder icon-sm" /></td>
                        <td>${%All workspaces}</td>
                        <td class="fileSize">${from.getSizeInString(from.getAllDiskUsageWorkspace())}</td>
                    </tr>
                    <tr>
                        <td><l:icon class="icon-folder icon-sm" /></td>
                        <td>${%Slave workspaces}</td>
                        <td class="fileSize">${from.getSizeInString(from.getAllSlaveWorkspaces())}</td>
                    </tr>
                    <tr>
                        <td><l:icon class="icon-folder icon-sm" /></td>
                        <td>${%Non-slave workspaces}</td>
                        <td class="fileSize">${from.getSizeInString(from.getAllCustomOrNonSlaveWorkspaces())}</td>
                    </tr>
                </table>
            </t:summary>
        </table>
    </j:if>
</j:jelly>
